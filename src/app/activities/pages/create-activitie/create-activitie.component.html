<div class="mt-3 mb-5 row d-flex justify-content-center">
    <div class="col-5">
        <p class="h4">Crea un actividad</p>
        <p>Ingresa los datos de la nueva actividad</p>

        <form [formGroup]="createActivitieForm" autocomplete="off">
            <div class="row g-3">
                <div class="col-12">
                    <label for="ForNameInput" class="form-label">Nombre de la actividad</label>
                    <input type="text" class="form-control" id="ForNameInput" placeholder="Animales en ingles 'Cabra'"
                        aria-describedby="validationServerUsernameFeedback" formControlName="name" required />
                    <app-message-error [showMessage]="showMessageError('name')"
                        [message_error]="getMessageError('name')"></app-message-error>
                </div>

                <div class="col-md-6">
                    <label for="ForNameInput" class="form-label">Nivel</label>
                    <select class="form-select" id="ForNameInput" aria-label="Default select example"
                        formControlName="activityLevel">
                        <option value="A1">A1</option>
                        <option value="A2">A2</option>
                        <option value="B1">B1</option>
                        <option value="B2">B2</option>
                        <option value="C1">C1</option>
                        <option value="C2">C2</option>
                    </select>
                    <app-message-error [showMessage]="showMessageError('activityLevel')"
                        [message_error]="getMessageError('activityLevel')"></app-message-error>
                </div>

                <div class="col-md-6">
                    <label for="ForNameInput" class="form-label">Tipo actividad</label>
                    <select class="form-select" id="ForNameInput" aria-label="Default select example"
                        formControlName="typeActivity">
                        <option value="WRITING">{{ "WRITING" | titlecase }}</option>
                        <option value="READING">{{ "READING" | titlecase }}</option>
                        <option value="TALKING">{{ "TALKING" | titlecase }}</option>
                        <option value="LISTENING">{{ "LISTENING" | titlecase }}</option>
                    </select>
                    <app-message-error [showMessage]="showMessageError('typeActivity')"
                        [message_error]="getMessageError('typeActivity')"></app-message-error>
                </div>

                <div class="col-md-12">
                    <div class="row">
                        <label for="ForNameInput" class="form-label">Tema</label>
                        <div class="col-md-6">
                            <select class="form-select" id="ForNameInput" aria-label="Default select example"
                                formControlName="topicID">
                                <option value="new_topic">{{ "Nuevo tema" }}</option>
                                <option value="Animales">{{ "Animales" }}</option>
                                <option value="Oficios">{{ "Oficios" }}</option>
                                <option value="Países">{{ "Países" }}</option>
                                <option value="Tiempo pasado">{{ "Tiempo pasado" }}</option>
                            </select>
                            <app-message-error [showMessage]="showMessageError('topicID')"
                                [message_error]="getMessageError('topicID')"></app-message-error>
                        </div>
                        <div class="col-md-6" *ngIf="this.createActivitieForm.get('topicID')?.value === 'new_topic'">
                            <input type="text" class="form-control" id="ForNameInput" placeholder="Clima"
                                formControlName="new_topic" />
                            <app-message-error [showMessage]="showMessageError('new_topic')"
                                [message_error]="getMessageError('new_topic')"></app-message-error>
                        </div>
                    </div>
                </div>

                <div class="col-12">
                    <label for="ForNameInput" class="form-label">Pregunta</label>
                    <input type="text" class="form-control" id="ForNameInput" formControlName="question"
                        placeholder="Escribe en ingles la pallabra:" />
                    <app-message-error [showMessage]="showMessageError('question')"
                        [message_error]="getMessageError('question')"></app-message-error>
                </div>

                <div class="col-12">
                    <label for="ForQuestionBody" class="form-label">Cuerpo de la pregunta</label>
                    <textarea class="form-control" id="ForQuestionBody" rows="3" placeholder="Cabra"
                        formControlName="questionBody"></textarea>
                    <app-message-error [showMessage]="showMessageError('questionBody')"
                        [message_error]="getMessageError('questionBody')"></app-message-error>
                </div>

                <div class="col-12">
                    <label for="ForNameInput" class="form-label">Repuestas</label>

                    <div class="input-group mt-3">
                        <span class="input-group-text text-success">Respuesta correcta</span>
                        <input type="text" class="form-control" placeholder="Goat" formControlName="answers_correct" />
                    </div>
                    <app-message-error [showMessage]="showMessageError('answers_correct')"
                        [message_error]="getMessageError('answers_correct')"></app-message-error>

                    <div class="input-group mt-3">
                        <span class="input-group-text text-danger">Respuesta incorrecta</span>
                        <input type="text" class="form-control" placeholder="Goata"
                            formControlName="answers_incorrecta_1" />
                    </div>
                    <app-message-error [showMessage]="showMessageError('answers_incorrecta_1')"
                        [message_error]="getMessageError('answers_incorrecta_1')"></app-message-error>

                    <div class="input-group mt-3">
                        <span class="input-group-text text-danger">Respuesta incorrecta</span>
                        <input type="text" class="form-control" placeholder="Gota"
                            formControlName="answers_incorrecta_2" />
                    </div>
                    <app-message-error [showMessage]="showMessageError('answers_incorrecta_2')"
                        [message_error]="getMessageError('answers_incorrecta_2')"></app-message-error>

                    <div class="input-group mt-3">
                        <span class="input-group-text text-danger">Respuesta incorrecta</span>
                        <input type="text" class="form-control" placeholder="Goot"
                            formControlName="answers_incorrecta_3" />
                    </div>
                    <app-message-error [showMessage]="showMessageError('answers_incorrecta_3')"
                        [message_error]="getMessageError('answers_incorrecta_3')"></app-message-error>
                </div>

                <div class="col-12">
                    <label for="ForExamplesInput" class="form-label">Ejemplos</label>

                    <div formArrayName="examples">
                        <div *ngFor="let example of examplesArr.controls; let i = index">
                            <div class="input-group mt-2">
                                <input type="text" class="form-control"
                                    placeholder="ej. They 'was' running two hours ago."
                                    aria-label="Recipient's username" aria-describedby="button-addon2"
                                    [formControlName]="i" />
                                <button class="btn btn-outline-secondary text-bg-danger" type="button"
                                    id="button-addon2" (click)="deleteExample(i)">
                                    x
                                </button>
                            </div>
                            <app-message-error [showMessage]="showMessageErrorExamples(i)"
                                [message_error]="getMessageErrorExamples(i)"></app-message-error>
                        </div>
                    </div>


                    <app-message-error [showMessage]="showMessageError('ForExamplesInput')"
                        [message_error]="getMessageError('ForExamplesInput')"></app-message-error>

                    <button class="btn btn-outline-primary mt-3" (click)="addExample()">
                        Agregar ejemplo
                    </button>
                </div>

                <div class="mt-5 d-flex justify-content-center">
                    <button type="button" class="btn btn-primary w-75" (click)="crearActivitie()">
                        Agregar actividad
                    </button>
                    <button type="button" class="btn btn-primary w-75" (click)="createTopic()">
                        Crear Topic
                    </button>
                </div>

                <!-- <pre>{{ this.createActivitieForm.value | json }}</pre>
                <pre>{{ this.topicFormControl.value | json }}</pre> -->
                <!-- <div class="h6">this.createActivitieForm.errors</div>
                <pre>{{ this.createActivitieForm.errors | json }}</pre> -->
            </div>
        </form>
    </div>
</div>